\begin{document}

\begin{axdef}
  minQuantity : \nat \\
  maxQuantity : \nat \\
  petrolPrice : \nat \\
  Boolean : \power \nat
\where
  minQuantity = 1 \\
  maxQuantity = 100 \\
  petrolPrice = 2 \\
  Boolean = \{0, 1\}
\end{axdef}

\begin{schema}{Pump}
  quantitySpecified : Boolean \\
  cashAmount : \nat \\
  litres : \nat \\
  pumpAttached : Boolean \\
\where
  cashAmount \geq 0 \\
  litres \geq 0 \\
  cashAmount = litres * petrolPrice \\
  litres \leq maxQuantity
\end{schema}

\begin{schema}{Init}
  Pump
\where
  quantitySpecified = 0 \\
  cashAmount = 0 \\
  litres = 0 \\
  pumpAttached = 0 \\
\end{schema}

 \begin{schema}{Input}
  \Delta Pump
 \where
  pumpAttached = 0 \\
  pumpAttached' = pumpAttached\\
  quantitySpecified = 0 \\
  quantitySpecified' = 1
 \end{schema}

 \begin{schema}{InputCashAmount}
  Input \\
  a? : \nat \\
  o! : Boolean 
 \where
  cashAmount' = a? \\
  litres' = a? \div petrolPrice \\
  litres' \geq minQuantity \\
  o! = 1
 \end{schema}

 \begin{schema}{InputLitreQuantity}
  Input \\
  q? : \nat \\
  o! : Boolean 
 \where
  litres' = q? \\
  litres' \geq minQuantity \\
  cashAmount' = q? * petrolPrice \\
  o! = 1
 \end{schema}
 
 \begin{schema}{ResetQuantity}
  \Delta Pump
 \where
  pumpAttached = 0 \\
  pumpAttached' = pumpAttached \\
  quantitySpecified = 1 \\
  quantitySpecified' = 0 \\
  cashAmount' = 0 \\
  litres' = 0 \\
 \end{schema}

 \begin{schema}{AttachPump}
  \Delta Pump
 \where
  cashAmount = cashAmount' \\
  litres = litres' \\
  quantitySpecified = quantitySpecified' \\
  quantitySpecified = 1 \\
  pumpAttached = 0 \\
  pumpAttached' = 1
 \end{schema}

 \begin{schema}{RemovePump}
  \Delta Pump
 \where
  cashAmount = cashAmount' \\
  litres = litres' \\
  quantitySpecified = quantitySpecified' \\
  pumpAttached = 1 \\
  pumpAttached' = 0
 \end{schema}

 \begin{schema}{pressLever}
  \Delta Pump
 \where
  quantitySpecified = 1 \\
  pumpAttached = 1 \\
  litres \geq minQuantity \\
  
  litres' = 0 \\
  cashAmount' = 0 \\
  quantitySpecified' = 0 \\
  pumpAttached' = pumpAttached
 \end{schema}

\end{document}